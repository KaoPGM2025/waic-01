<!doctype html>
<html lang="th" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
    }
    * {
      font-family: 'Prompt', sans-serif;
    }
    .glass-card {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
    }
    .income-item {
      transition: all 0.2s ease;
    }
    .income-item:hover {
      transform: translateX(4px);
    }
    .tab-active {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      color: white;
      box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4);
    }
    .btn-add {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      transition: all 0.3s ease;
    }
    .btn-add:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(16, 185, 129, 0.5);
    }
    .summary-card {
      background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
    }
    @keyframes slideIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-slide {
      animation: slideIn 0.3s ease;
    }
    .delete-confirm {
      background: #fee2e2;
      border: 1px solid #fca5a5;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="h-full bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50">
  <div id="app" class="h-full overflow-auto">
   <div class="min-h-full p-4 md:p-6"><!-- Header -->
    <div class="text-center mb-6">
     <div class="inline-flex items-center gap-3 mb-2"><span class="text-4xl">üí∞</span>
      <h1 id="app-title" class="text-2xl md:text-3xl font-bold text-emerald-800">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ</h1>
     </div>
     <p class="text-emerald-600 text-sm">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡πà‡∏≤‡∏¢‡∏î‡∏≤‡∏¢</p>
    </div><!-- Summary Cards -->
    <div class="grid grid-cols-3 gap-3 mb-6">
     <div class="summary-card rounded-2xl p-4 text-center">
      <p class="text-xs text-emerald-600 mb-1">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</p>
      <p id="today-total" class="text-lg md:text-xl font-bold text-emerald-800">‡∏ø0</p>
     </div>
     <div class="summary-card rounded-2xl p-4 text-center">
      <p class="text-xs text-emerald-600 mb-1">‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ô‡∏µ‡πâ</p>
      <p id="week-total" class="text-lg md:text-xl font-bold text-emerald-800">‡∏ø0</p>
     </div>
     <div class="summary-card rounded-2xl p-4 text-center">
      <p class="text-xs text-emerald-600 mb-1">‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</p>
      <p id="month-total" class="text-lg md:text-xl font-bold text-emerald-800">‡∏ø0</p>
     </div>
    </div><!-- Add Income Form -->
    <div class="glass-card rounded-2xl p-5 mb-6 shadow-lg border border-emerald-100">
     <h2 class="text-lg font-semibold text-emerald-800 mb-4 flex items-center gap-2"><span>‚ûï</span> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÉ‡∏´‡∏°‡πà</h2>
     <form id="income-form" class="space-y-4">
      <div><label for="amount" class="block text-sm font-medium text-emerald-700 mb-1">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</label> <input type="number" id="amount" placeholder="0.00" step="0.01" min="0" required class="w-full px-4 py-3 rounded-xl border-2 border-emerald-200 focus:border-emerald-500 focus:outline-none text-lg font-semibold text-emerald-800">
      </div>
      <div><label for="description" class="block text-sm font-medium text-emerald-700 mb-1">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</label> <input type="text" id="description" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå, ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô" required class="w-full px-4 py-3 rounded-xl border-2 border-emerald-200 focus:border-emerald-500 focus:outline-none">
      </div>
      <div><label for="category" class="block text-sm font-medium text-emerald-700 mb-1">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</label> <select id="category" required class="w-full px-4 py-3 rounded-xl border-2 border-emerald-200 focus:border-emerald-500 focus:outline-none bg-white"> <option value="salary">üíº ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</option> <option value="freelance">üíª ‡∏ü‡∏£‡∏µ‡πÅ‡∏•‡∏ô‡∏ã‡πå</option> <option value="business">üè™ ‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à</option> <option value="investment">üìà ‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô</option> <option value="bonus">üéÅ ‡πÇ‡∏ö‡∏ô‡∏±‡∏™</option> <option value="other">üì¶ ‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option> </select>
      </div>
      <div><label for="date" class="block text-sm font-medium text-emerald-700 mb-1">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label> <input type="date" id="date" required class="w-full px-4 py-3 rounded-xl border-2 border-emerald-200 focus:border-emerald-500 focus:outline-none">
      </div><button type="submit" id="submit-btn" class="btn-add w-full py-3 rounded-xl text-white font-semibold text-lg"> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ </button>
     </form>
    </div><!-- View Tabs -->
    <div class="flex gap-2 mb-4 bg-white rounded-xl p-1 shadow-sm"><button data-view="day" class="view-tab flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all tab-active"> üìÖ ‡∏ß‡∏±‡∏ô </button> <button data-view="week" class="view-tab flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all text-emerald-600"> üìÜ ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå </button> <button data-view="month" class="view-tab flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all text-emerald-600"> üóìÔ∏è ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô </button>
    </div><!-- Income List -->
    <div class="glass-card rounded-2xl p-5 shadow-lg border border-emerald-100">
     <div class="flex justify-between items-center mb-4">
      <h2 id="list-title" class="text-lg font-semibold text-emerald-800">‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h2><span id="list-count" class="text-sm text-emerald-600 bg-emerald-100 px-3 py-1 rounded-full">0 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</span>
     </div>
     <div id="income-list" class="space-y-3">
      <div class="text-center py-8 text-emerald-400"><span class="text-4xl block mb-2">üìù</span>
       <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ</p>
      </div>
     </div>
    </div><!-- Limit Warning -->
    <div id="limit-warning" class="hidden mt-4 p-4 bg-amber-100 border border-amber-300 rounded-xl text-amber-800 text-sm text-center">
     ‚ö†Ô∏è ‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏Å‡∏•‡πâ‡∏ñ‡∏∂‡∏á‡∏Ç‡∏µ‡∏î‡∏à‡∏≥‡∏Å‡∏±‡∏î 999 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πà‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà
    </div>
   </div>
  </div>
  <script>
    const defaultConfig = {
      app_title: '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ',
      currency_symbol: '‡∏ø',
      primary_color: '#10b981',
      secondary_color: '#ecfdf5',
      text_color: '#065f46'
    };

    let config = { ...defaultConfig };
    let incomeData = [];
    let currentView = 'day';
    let deletingId = null;

    const categoryIcons = {
      salary: 'üíº',
      freelance: 'üíª',
      business: 'üè™',
      investment: 'üìà',
      bonus: 'üéÅ',
      other: 'üì¶'
    };

    const categoryNames = {
      salary: '‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô',
      freelance: '‡∏ü‡∏£‡∏µ‡πÅ‡∏•‡∏ô‡∏ã‡πå',
      business: '‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à',
      investment: '‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô',
      bonus: '‡πÇ‡∏ö‡∏ô‡∏±‡∏™',
      other: '‡∏≠‡∏∑‡πà‡∏ô‡πÜ'
    };

    // Date helpers
    function getToday() {
      return new Date().toISOString().split('T')[0];
    }

    function getStartOfWeek() {
      const today = new Date();
      const day = today.getDay();
      const diff = today.getDate() - day + (day === 0 ? -6 : 1);
      return new Date(today.setDate(diff)).toISOString().split('T')[0];
    }

    function getStartOfMonth() {
      const today = new Date();
      return new Date(today.getFullYear(), today.getMonth(), 1).toISOString().split('T')[0];
    }

    function formatCurrency(amount) {
      const symbol = config.currency_symbol || defaultConfig.currency_symbol;
      return `${symbol}${amount.toLocaleString('th-TH', { minimumFractionDigits: 0, maximumFractionDigits: 2 })}`;
    }

    function formatDate(dateStr) {
      const date = new Date(dateStr);
      return date.toLocaleDateString('th-TH', { day: 'numeric', month: 'short' });
    }

    // Calculate totals
    function calculateTotals() {
      const today = getToday();
      const weekStart = getStartOfWeek();
      const monthStart = getStartOfMonth();

      let todayTotal = 0;
      let weekTotal = 0;
      let monthTotal = 0;

      incomeData.forEach(item => {
        const itemDate = item.date;
        if (itemDate === today) todayTotal += item.amount;
        if (itemDate >= weekStart) weekTotal += item.amount;
        if (itemDate >= monthStart) monthTotal += item.amount;
      });

      document.getElementById('today-total').textContent = formatCurrency(todayTotal);
      document.getElementById('week-total').textContent = formatCurrency(weekTotal);
      document.getElementById('month-total').textContent = formatCurrency(monthTotal);
    }

    // Filter data by view
    function getFilteredData() {
      const today = getToday();
      const weekStart = getStartOfWeek();
      const monthStart = getStartOfMonth();

      let filtered = [];
      switch (currentView) {
        case 'day':
          filtered = incomeData.filter(item => item.date === today);
          break;
        case 'week':
          filtered = incomeData.filter(item => item.date >= weekStart);
          break;
        case 'month':
          filtered = incomeData.filter(item => item.date >= monthStart);
          break;
      }

      return filtered.sort((a, b) => new Date(b.date) - new Date(a.date) || new Date(b.created_at) - new Date(a.created_at));
    }

    // Render income list
    function renderIncomeList() {
      const listEl = document.getElementById('income-list');
      const countEl = document.getElementById('list-count');
      const titleEl = document.getElementById('list-title');
      const filtered = getFilteredData();

      const titles = {
        day: '‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ',
        week: '‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ô‡∏µ‡πâ',
        month: '‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ'
      };
      titleEl.textContent = titles[currentView];
      countEl.textContent = `${filtered.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`;

      if (filtered.length === 0) {
        listEl.innerHTML = `
          <div class="text-center py-8 text-emerald-400">
            <span class="text-4xl block mb-2">üìù</span>
            <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ</p>
          </div>
        `;
        return;
      }

      const existingItems = new Map();
      listEl.querySelectorAll('.income-item').forEach(el => {
        existingItems.set(el.dataset.id, el);
      });

      const newIds = new Set(filtered.map(item => item.__backendId));

      existingItems.forEach((el, id) => {
        if (!newIds.has(id)) {
          el.remove();
        }
      });

      filtered.forEach((item, index) => {
        const id = item.__backendId;
        let itemEl = existingItems.get(id);

        if (itemEl) {
          updateIncomeItem(itemEl, item);
        } else {
          itemEl = createIncomeItem(item);
          if (index === 0) {
            listEl.prepend(itemEl);
          } else {
            const prevItem = filtered[index - 1];
            const prevEl = listEl.querySelector(`[data-id="${prevItem.__backendId}"]`);
            if (prevEl) {
              prevEl.after(itemEl);
            } else {
              listEl.appendChild(itemEl);
            }
          }
        }
      });

      const emptyMsg = listEl.querySelector('.text-center.py-8');
      if (emptyMsg && filtered.length > 0) {
        emptyMsg.remove();
      }
    }

    function createIncomeItem(item) {
      const div = document.createElement('div');
      div.className = 'income-item animate-slide bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl p-4 border border-emerald-100';
      div.dataset.id = item.__backendId;
      updateIncomeItem(div, item);
      return div;
    }

    function updateIncomeItem(el, item) {
      const isDeleting = deletingId === item.__backendId;
      el.innerHTML = `
        <div class="flex justify-between items-start">
          <div class="flex-1">
            <div class="flex items-center gap-2 mb-1">
              <span class="text-xl">${categoryIcons[item.category] || 'üì¶'}</span>
              <span class="font-semibold text-emerald-800">${item.description}</span>
            </div>
            <div class="text-xs text-emerald-500">
              ${categoryNames[item.category] || '‡∏≠‡∏∑‡πà‡∏ô‡πÜ'} ‚Ä¢ ${formatDate(item.date)}
            </div>
          </div>
          <div class="text-right">
            <p class="text-lg font-bold text-emerald-600">+${formatCurrency(item.amount)}</p>
            ${isDeleting ? `
              <div class="flex gap-1 mt-2">
                <button onclick="confirmDelete('${item.__backendId}')" class="px-2 py-1 bg-red-500 text-white text-xs rounded-lg hover:bg-red-600">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
                <button onclick="cancelDelete()" class="px-2 py-1 bg-gray-300 text-gray-700 text-xs rounded-lg hover:bg-gray-400">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
              </div>
            ` : `
              <button onclick="startDelete('${item.__backendId}')" class="text-xs text-red-400 hover:text-red-600 mt-1">üóëÔ∏è ‡∏•‡∏ö</button>
            `}
          </div>
        </div>
      `;
    }

    function startDelete(id) {
      deletingId = id;
      renderIncomeList();
    }

    function cancelDelete() {
      deletingId = null;
      renderIncomeList();
    }

    async function confirmDelete(id) {
      const item = incomeData.find(i => i.__backendId === id);
      if (!item) return;

      const btn = document.querySelector(`[data-id="${id}"] button`);
      if (btn) btn.disabled = true;

      const result = await window.dataSdk.delete(item);
      if (!result.isOk) {
        const listEl = document.getElementById('income-list');
        const errorDiv = document.createElement('div');
        errorDiv.className = 'text-red-500 text-sm text-center py-2';
        errorDiv.textContent = '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà';
        listEl.prepend(errorDiv);
        setTimeout(() => errorDiv.remove(), 3000);
      }
      deletingId = null;
    }

    // Check limit
    function checkLimit() {
      const warning = document.getElementById('limit-warning');
      if (incomeData.length >= 950) {
        warning.classList.remove('hidden');
      } else {
        warning.classList.add('hidden');
      }
    }

    // Form submission
    document.getElementById('income-form').addEventListener('submit', async (e) => {
      e.preventDefault();

      if (incomeData.length >= 999) {
        const form = document.getElementById('income-form');
        const errorDiv = document.createElement('div');
        errorDiv.className = 'text-red-500 text-sm text-center py-2 mb-2';
        errorDiv.textContent = '‚ö†Ô∏è ‡∏ñ‡∏∂‡∏á‡∏Ç‡∏µ‡∏î‡∏à‡∏≥‡∏Å‡∏±‡∏î 999 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πà‡∏≤‡∏Å‡πà‡∏≠‡∏ô';
        form.prepend(errorDiv);
        setTimeout(() => errorDiv.remove(), 3000);
        return;
      }

      const submitBtn = document.getElementById('submit-btn');
      submitBtn.disabled = true;
      submitBtn.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...';

      const amount = parseFloat(document.getElementById('amount').value);
      const description = document.getElementById('description').value.trim();
      const category = document.getElementById('category').value;
      const date = document.getElementById('date').value;

      const result = await window.dataSdk.create({
        amount,
        description,
        category,
        date,
        created_at: new Date().toISOString()
      });

      submitBtn.disabled = false;
      submitBtn.textContent = '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ';

      if (result.isOk) {
        document.getElementById('income-form').reset();
        document.getElementById('date').value = getToday();
      } else {
        const form = document.getElementById('income-form');
        const errorDiv = document.createElement('div');
        errorDiv.className = 'text-red-500 text-sm text-center py-2 mb-2';
        errorDiv.textContent = '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà';
        form.prepend(errorDiv);
        setTimeout(() => errorDiv.remove(), 3000);
      }
    });

    // Tab switching
    document.querySelectorAll('.view-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelectorAll('.view-tab').forEach(t => {
          t.classList.remove('tab-active');
          t.classList.add('text-emerald-600');
        });
        tab.classList.add('tab-active');
        tab.classList.remove('text-emerald-600');
        currentView = tab.dataset.view;
        renderIncomeList();
      });
    });

    // Data handler
    const dataHandler = {
      onDataChanged(data) {
        incomeData = data;
        calculateTotals();
        renderIncomeList();
        checkLimit();
      }
    };

    // Config change handler
    async function onConfigChange(cfg) {
      config = { ...defaultConfig, ...cfg };
      document.getElementById('app-title').textContent = config.app_title || defaultConfig.app_title;
      calculateTotals();
    }

    function mapToCapabilities(cfg) {
      return {
        recolorables: [],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      };
    }

    function mapToEditPanelValues(cfg) {
      return new Map([
        ['app_title', cfg.app_title || defaultConfig.app_title],
        ['currency_symbol', cfg.currency_symbol || defaultConfig.currency_symbol]
      ]);
    }

    // Initialize
    async function init() {
      document.getElementById('date').value = getToday();

      if (window.elementSdk) {
        window.elementSdk.init({
          defaultConfig,
          onConfigChange,
          mapToCapabilities,
          mapToEditPanelValues
        });
      }

      if (window.dataSdk) {
        const result = await window.dataSdk.init(dataHandler);
        if (!result.isOk) {
          console.error('Failed to initialize data SDK');
        }
      }
    }

    init();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c83753cd19a731d',t:'MTc3MDEzNzc0OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
